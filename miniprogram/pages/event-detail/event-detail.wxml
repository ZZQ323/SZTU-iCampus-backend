<view class="event-detail">
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <view wx:else class="detail-container">
    <!-- æ´»åŠ¨æ ‡é¢˜å’ŒåŸºæœ¬ä¿¡æ¯ -->
    <view class="event-header">
      <text class="event-title">{{event.title}}</text>
      <view class="event-status">
        <t-tag 
          theme="{{event.status === 'ongoing' ? 'success' : (event.status === 'upcoming' ? 'primary' : 'default')}}" 
          variant="light"
        >
          {{event.statusText}}
        </t-tag>
      </view>
      <view class="event-meta">
        <view class="meta-item">
          <text class="meta-label">æ´»åŠ¨æ—¶é—´</text>
          <text class="meta-value">{{event.timeText}}</text>
        </view>
        <view class="meta-item">
          <text class="meta-label">æ´»åŠ¨åœ°ç‚¹</text>
          <text class="meta-value">{{event.location}}</text>
        </view>
        <view class="meta-item" wx:if="{{event.organizer}}">
          <text class="meta-label">ä¸»åŠæ–¹</text>
          <text class="meta-value">{{event.organizer}}</text>
        </view>
        <view class="meta-item" wx:if="{{event.participants}}">
          <text class="meta-label">å‚ä¸äººæ•°</text>
          <text class="meta-value">{{event.participants}}</text>
        </view>
      </view>
    </view>

    <!-- æ´»åŠ¨è¯¦ç»†ä¿¡æ¯ -->
    <view class="event-content">
      <view class="content-section" wx:if="{{event.description}}">
        <view class="section-title">ğŸ“‹ æ´»åŠ¨ä»‹ç»</view>
        <text class="event-description">{{event.description}}</text>
      </view>

      <view class="content-section" wx:if="{{event.agenda}}">
        <view class="section-title">ğŸ“… æ´»åŠ¨å®‰æ’</view>
        <text class="event-agenda">{{event.agenda}}</text>
      </view>

      <view class="content-section" wx:if="{{event.requirements}}">
        <view class="section-title">âš ï¸ å‚ä¸è¦æ±‚</view>
        <text class="event-requirements">{{event.requirements}}</text>
      </view>

      <view class="content-section" wx:if="{{event.contact}}">
        <view class="section-title">ğŸ“ è”ç³»æ–¹å¼</view>
        <text class="event-contact">{{event.contact}}</text>
      </view>

      <view class="content-section" wx:if="{{event.reward}}">
        <view class="section-title">ğŸ æ´»åŠ¨å¥–åŠ±</view>
        <text class="event-reward">{{event.reward}}</text>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-buttons">
      <t-button 
        wx:if="{{event.status === 'upcoming' || event.status === 'ongoing'}}"
        theme="primary" 
        size="large"
        bindtap="registerEvent"
        icon="add-circle"
      >
        æŠ¥åå‚åŠ 
      </t-button>
      <t-button 
        theme="light" 
        size="large"
        bindtap="copyEventInfo"
        icon="content-copy"
      >
        å¤åˆ¶ä¿¡æ¯
      </t-button>
      <t-button 
        theme="light" 
        size="large"
        bindtap="shareEvent"
        icon="share"
      >
        åˆ†äº«æ´»åŠ¨
      </t-button>
    </view>
  </view>
</view> 