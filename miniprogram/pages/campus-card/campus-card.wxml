<view class="container">
  <t-navbar 
    title="校园卡" 
    t-class="custom-navbar"
    back="{{true}}"
    bind:back="onBack"
  />
  
  <view class="card-container">
    <!-- 卡片信息 -->
    <view class="card-info">
      <view class="card-header">
        <t-avatar size="large" image="{{userInfo.avatar}}" />
        <view class="user-info">
          <text class="user-name">{{userInfo.name}}</text>
          <text class="student-id">{{userInfo.studentId}}</text>
        </view>
      </view>
      <view class="balance-info">
        <text class="balance-label">余额</text>
        <text class="balance-amount">¥{{balance}}</text>
      </view>
      <view class="card-number">卡号：{{cardNumber}}</view>
    </view>

    <!-- 快捷功能区 -->
    <view class="quick-actions">
      <t-cell-group>
        <t-cell 
          title="充值" 
          hover 
          arrow 
          image="/assets/icons/recharge.png" 
          bindtap="onRecharge" 
        />
        <t-cell 
          title="消费记录" 
          hover 
          arrow 
          image="/assets/icons/record.png" 
          bindtap="onViewRecords" 
        />
        <t-cell 
          title="挂失" 
          hover 
          arrow 
          image="/assets/icons/lost.png" 
          bindtap="onReportLoss" 
        />
      </t-cell-group>
    </view>

    <!-- 最近消费记录 -->
    <view class="recent-records">
      <view class="section-title">最近消费</view>
      <t-cell-group>
        <t-cell 
          wx:for="{{recentRecords}}" 
          wx:key="id" 
          title="{{item.location}}" 
          note="{{item.time}}"
          description="¥{{item.amount}}"
        />
      </t-cell-group>
    </view>
  </view>
</view> 