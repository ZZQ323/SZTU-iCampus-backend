<!-- ç®¡ç†å‘˜é¡µé¢ -->
<view class="page">
  <view class="bblank"></view>
  <!-- å¤´éƒ¨ä¿¡æ¯ -->
  <view class="header">
    <view class="admin-info">
      <t-avatar icon="user" size="large"></t-avatar>
      <view class="info-text">
        <view class="name">{{adminInfo.name}}</view>
        <view class="role">ç³»ç»Ÿç®¡ç†å‘˜</view>
      </view>
    </view>
    <view class="status">
      <t-tag theme="success" variant="light">åœ¨çº¿</t-tag>
    </view>
  </view>

  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-section">
    <view class="stats-grid">
      <view class="stat-card">
        <view class="stat-icon user">ğŸ‘¥</view>
        <view class="stat-content">
          <view class="stat-number">{{stats.userCount}}</view>
          <view class="stat-label">ç”¨æˆ·æ€»æ•°</view>
        </view>
      </view>
      <view class="stat-card">
        <view class="stat-icon admin">ğŸ”§</view>
        <view class="stat-content">
          <view class="stat-number">{{stats.adminCount}}</view>
          <view class="stat-label">ç®¡ç†å‘˜</view>
        </view>
      </view>
      <view class="stat-card">
        <view class="stat-icon announcement">ğŸ“¢</view>
        <view class="stat-content">
          <view class="stat-number">{{stats.announcementCount}}</view>
          <view class="stat-label">å…¬å‘Šæ•°é‡</view>
        </view>
      </view>
      <view class="stat-card">
        <view class="stat-icon notice">ğŸ“‹</view>
        <view class="stat-content">
          <view class="stat-number">{{stats.noticeCount}}</view>
          <view class="stat-label">é€šçŸ¥æ•°é‡</view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½æ¨¡å— -->
  <view class="functions-section">
    <view class="section-title">ç®¡ç†åŠŸèƒ½</view>
    
    <!-- ç”¨æˆ·ç®¡ç† -->
    <view class="function-group">
      <view class="group-title">ç”¨æˆ·ç®¡ç†</view>
      <view class="function-grid">
        <view class="function-item" bindtap="navigateToUserList">
          <view class="function-icon">ğŸ‘¤</view>
          <view class="function-text">ç”¨æˆ·åˆ—è¡¨</view>
        </view>
        <view class="function-item" bindtap="showUserActions">
          <view class="function-icon">âš™ï¸</view>
          <view class="function-text">ç”¨æˆ·æ“ä½œ</view>
        </view>
        <view class="function-item" bindtap="showAdminManagement">
          <view class="function-icon">ğŸ›¡ï¸</view>
          <view class="function-text">ç®¡ç†å‘˜è®¾ç½®</view>
        </view>
      </view>
    </view>

    <!-- å†…å®¹ç®¡ç† -->
    <view class="function-group">
      <view class="group-title">å†…å®¹ç®¡ç†</view>
      <view class="function-grid">
        <view class="function-item" bindtap="manageAnnouncements">
          <view class="function-icon">ğŸ“¢</view>
          <view class="function-text">å…¬å‘Šç®¡ç†</view>
        </view>
        <view class="function-item" bindtap="manageNotices">
          <view class="function-icon">ğŸ“‹</view>
          <view class="function-text">é€šçŸ¥ç®¡ç†</view>
        </view>
        <view class="function-item" bindtap="manageEvents">
          <view class="function-icon">ğŸ“…</view>
          <view class="function-text">æ´»åŠ¨ç®¡ç†</view>
        </view>
      </view>
    </view>

    <!-- ç³»ç»Ÿç®¡ç† -->
    <view class="function-group">
      <view class="group-title">ç³»ç»Ÿç®¡ç†</view>
      <view class="function-grid">
        <view class="function-item" bindtap="viewSystemLogs">
          <view class="function-icon">ğŸ“Š</view>
          <view class="function-text">ç³»ç»Ÿæ—¥å¿—</view>
        </view>
        <view class="function-item" bindtap="showSystemSettings">
          <view class="function-icon">âš™ï¸</view>
          <view class="function-text">ç³»ç»Ÿè®¾ç½®</view>
        </view>
        <view class="function-item" bindtap="showDataBackup">
          <view class="function-icon">ğŸ’¾</view>
          <view class="function-text">æ•°æ®å¤‡ä»½</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ“ä½œ -->
  <view class="recent-section">
    <view class="section-title">æœ€è¿‘æ“ä½œ</view>
    <view class="recent-list">
      <view 
        wx:for="{{recentActions}}" 
        wx:key="id"
        class="recent-item"
      >
        <view class="action-icon">{{item.icon}}</view>
        <view class="action-content">
          <view class="action-text">{{item.action}}</view>
          <view class="action-time">{{item.time}}</view>
        </view>
        <view class="action-status">
          <t-tag 
            theme="{{item.status === 'success' ? 'success' : 'warning'}}" 
            variant="light" 
            size="small"
          >
            {{item.statusText}}
          </t-tag>
        </view>
      </view>
    </view>
  </view>

  <!-- ç”¨æˆ·æ“ä½œå¼¹çª— -->
  <t-action-sheet
    visible="{{showUserActions}}"
    items="{{userActionItems}}"
    bind:click="onUserActionClick"
    bind:cancel="hideUserActions"
  />

  <!-- ç®¡ç†å‘˜ç®¡ç†å¼¹çª— -->
  <t-dialog
    visible="{{showAdminDialog}}"
    title="ç®¡ç†å‘˜ç®¡ç†"
    content="{{adminDialogContent}}"
    actions="{{adminDialogActions}}"
    bind:action="onAdminDialogAction"
  />

  <!-- åŠ è½½çŠ¶æ€ -->
  <t-loading 
    wx:if="{{loading}}" 
    visible="{{loading}}" 
    text="åŠ è½½ä¸­..."
  />
</view>

<!-- ç¡®è®¤å¯¹è¯æ¡† -->
<t-dialog
  visible="{{showDialog}}"
  title="{{dialogTitle}}"
  content="{{dialogContent}}"
  confirm-btn="ç¡®è®¤"
  cancel-btn="å–æ¶ˆ"
  bind:confirm="onDialogConfirm"
  bind:cancel="onDialogCancel"
/> 